<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Blog</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --background-color: #f8f9fa;
            --text-color: #333;
            --border-color: #eaeaea;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            padding: 20px 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 40px;
        }
        
        header h1 {
            margin: 0;
            color: var(--secondary-color);
        }
        
        .site-title {
            text-decoration: none;
            color: var(--secondary-color);
        }
        
        .post-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .post-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .post-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .post-image {
            width: 100%;
            height: 180px;
            background-color: #ddd;
            background-size: cover;
            background-position: center;
        }
        
        .post-content {
            padding: 20px;
        }
        
        .post-title {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--secondary-color);
            font-size: 1.4rem;
        }
        
        .post-date {
            color: #777;
            font-size: 0.9rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .post-excerpt {
            margin-bottom: 15px;
            overflow: hidden;
            display: -webkit-box;            
            -webkit-box-orient: vertical;
        }
        
        .read-more {
            display: inline-block;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 600;
            padding: 5px 0;
            border-bottom: 2px solid transparent;
            transition: border-color 0.3s ease;
        }
        
        .read-more:hover {
            border-color: var(--primary-color);
        }
        
        .single-post {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .post-header {
            margin-bottom: 30px;
        }
        
        .post-header h1 {
            margin-bottom: 10px;
            color: var(--secondary-color);
        }
        
        .post-meta {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 20px;
        }
        
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        .post-body h1, .post-body h2, .post-body h3 {
            color: var(--secondary-color);
            margin-top: 1.5em;
            margin-bottom: 0.5em;
        }
        
        .post-body p {
            margin-bottom: 1.2em;
        }
        
        .post-body img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            margin: 1em 0;
        }
        
        .post-body pre {
            background-color: #f4f4f4;
            padding: 1em;
            border-radius: 4px;
            overflow-x: auto;
        }
        
        .post-body code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f4f4f4;
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }
        
        .post-body blockquote {
            border-left: 4px solid var(--primary-color);
            padding-left: 1em;
            margin-left: 0;
            color: #555;
        }
        
        .post-body a {
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .post-body a:hover {
            text-decoration: underline;
        }
        
        .post-body ul, .post-body ol {
            margin-bottom: 1.2em;
            padding-left: 2em;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
            color: #777;
        }
        
        .error {
            background-color: #ffdddd;
            color: #900;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .post-list {
                grid-template-columns: 1fr;
            }
            
            .single-post {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="#" class="site-title" id="site-title">Markdown Blog</a></h1>
        <p id="site-description">A simple blog powered by Markdown</p>
    </header>
    
    <main id="main">
        <!-- Content will be dynamically inserted here -->
        <div class="loading">Loading posts...</div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/5.0.4/marked.min.js"></script>
    <script>
        // Configuration
        const postsFolder = 'posts';
        
        // DOM Elements
        const main = document.getElementById('main');
        const siteTitle = document.getElementById('site-title');
        
        // State
        let posts = [];
        
        // Parse URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        const postSlug = urlParams.get('post');
        
        // Initialize the app
        initApp();
        
        function initApp() {
            siteTitle.addEventListener('click', (e) => {
                e.preventDefault();
                navigateToHome();
            });
            
            // Handle navigation
            window.addEventListener('popstate', handleNavigation);
            
            // Load posts and render
            loadPosts()
                .then(() => {
                    handleNavigation();
                })
                .catch(error => {
                    showError(`Failed to load posts: ${error.message}`);
                });
        }
        
        function handleNavigation() {
            const params = new URLSearchParams(window.location.search);
            const postSlug = params.get('post');
            
            if (postSlug) {
                renderSinglePost(postSlug);
            } else {
                renderPostsList();
            }
        }
        
        // Function to load posts from the posts directory
        async function loadPosts() {
            try {
                // For demo purposes, we'll simulate finding files in the posts directory
                // In a real application, this would be a server-side function
                const markdownFiles = [
                    'Challengers-Review.md',
                    'advanced-formatting.md',
                    'creating-a-blog.md'
                ];
                
                // Process each file to extract metadata
                posts = await Promise.all(markdownFiles.map(async filename => {
                    const slug = filename.replace('.md', '');
                    const postContent = await loadPostContent(slug);
                    const metadata = extractPostMetadata(postContent, slug);
                    
                    return {
                        slug,
                        title: metadata.title,
                        date: metadata.date,
                        excerpt: metadata.excerpt,
                        image: '/api/placeholder/600/400'
                    };
                }));
                
                // Sort posts by date (most recent first)
                posts.sort((a, b) => new Date(b.date) - new Date(a.date));
            } catch (error) {
                console.error('Error loading posts:', error);
                throw error;
            }
        }
        
        // Function to extract metadata from a post
        function extractPostMetadata(content, slug) {
            // Default values
            let metadata = {
                title: slug.replace(/-/g, ' '),
                date: '2025-03-01',
                excerpt: 'No excerpt available'
            };
            
            // Extract title from the first heading
            const titleMatch = content.match(/^#\s+(.+)$/m);
            if (titleMatch && titleMatch[1]) {
                metadata.title = titleMatch[1].trim();
            }
            
            // Extract date from frontmatter if it exists
            const dateMatch = content.match(/^date:\s*(.+)$/m);
            if (dateMatch && dateMatch[1]) {
                metadata.date = dateMatch[1].trim();
            }
            
            // Get the first paragraph for the excerpt
            // First remove frontmatter if it exists
            const contentWithoutFrontmatter = content.replace(/^---\n[\s\S]*?\n---\n/, '');
            
            // Then find the first paragraph that's not a heading
            const paragraphs = contentWithoutFrontmatter.split('\n\n');
            
            for (const paragraph of paragraphs) {
                // Skip headings, code blocks, etc.
                if (!paragraph.startsWith('#') && 
                    !paragraph.startsWith('```') && 
                    !paragraph.startsWith('>') &&
                    paragraph.trim().length > 0) {
                    // Remove markdown formatting for clean excerpt
                    const plainText = paragraph
                        .replace(/\[([^\]]+)\]\([^)]+\)/g, '$1') // Remove links but keep text
                        .replace(/[*_~`]/g, '') // Remove formatting characters
                        .trim();
                    
                    // Get first 160 characters for excerpt
                    metadata.excerpt = plainText.length > 160 
                        ? plainText.substring(0, 157) + '...'
                        : plainText;
                    break;
                }
            }
            
            return metadata;
        }
        
        async function loadPostContent(slug) {
            // In a real application, you would fetch the post content from the server
            // For the demo, we'll use predefined content
            if (slug === 'getting-started') {
                return `
# Getting Started with Markdown

*Published on March 1, 2025*

Markdown is a lightweight markup language that you can use to add formatting elements to plaintext text documents. Created by John Gruber in 2004, Markdown is now one of the world's most popular markup languages.

## Why Use Markdown?

- **Easy to learn**: The syntax is straightforward and intuitive
- **Portable**: Files containing Markdown-formatted text can be opened using virtually any application
- **Platform independent**: You can create Markdown-formatted text on any device running any operating system
- **Future proof**: Even if the application you're using stops working at some point in the future, you'll still be able to read your Markdown-formatted text using a text editing application

## Basic Syntax

### Headers

# H1
## H2
### H3

### Emphasis

*This text will be italic*
_This will also be italic_

**This text will be bold**
__This will also be bold__

_You **can** combine them_

### Lists

#### Unordered

* Item 1
* Item 2
  * Item 2a
  * Item 2b

#### Ordered

1. Item 1
2. Item 2
3. Item 3
   1. Item 3a
   2. Item 3b

### Images

![Alt Text](https://via.placeholder.com/150)

### Links

[GitHub](http://github.com)

### Blockquotes

> Markdown is a lightweight markup language with plain-text-formatting syntax, created in 2004 by John Gruber with Aaron Swartz.

### Code

\`\`\`javascript
function fancyAlert(arg) {
  if(arg) {
    $.facebox({div:'#foo'})
  }
}
\`\`\`

## Conclusion

Markdown is an excellent choice for creating content that needs to be portable and future-proof. Its simplicity and versatility make it ideal for blog posts, readme files, and technical documentation.
                `;
            } else if (slug === 'advanced-formatting') {
                return `
# Advanced Markdown Formatting

*Published on February 28, 2025*

Once you've mastered the basics of Markdown, there are many advanced formatting options that can make your documents even more powerful and expressive.

## Extended Syntax

Many Markdown processors support extensions that enable additional functionality beyond what was available in John Gruber's original specification.

### Tables

| Syntax | Description |
| ----------- | ----------- |
| Header | Title |
| Paragraph | Text |

### Fenced Code Blocks

\`\`\`python
def hello_world():
    print("Hello, World!")
\`\`\`

### Footnotes

Here's a sentence with a footnote. [^1]

[^1]: This is the footnote.

### Heading IDs

### My Great Heading {#custom-id}

### Definition Lists

term
: definition

### Strikethrough

~~The world is flat.~~

### Task Lists

- [x] Write the press release
- [ ] Update the website
- [ ] Contact the media

### Emoji

That is so funny! :joy:

### Highlight

I need to highlight these ==very important words==.

### Subscript

H~2~O

### Superscript

X^2^

## Markdown Editors

To take full advantage of advanced Markdown features, consider using a specialized Markdown editor. Here are some popular options:

1. **Visual Studio Code** with Markdown extensions
2. **Typora** - a minimalist Markdown editor
3. **Mark Text** - a simple and elegant open-source Markdown editor
4. **Obsidian** - a powerful knowledge base that works on top of a local folder of Markdown files

## Markdown Variants

There are several Markdown variants that extend the original syntax:

- **CommonMark** - a strongly defined, highly compatible specification of Markdown
- **GitHub Flavored Markdown (GFM)** - used on GitHub.com and GitHub Enterprise
- **MultiMarkdown** - adds multiple syntax features (tables, footnotes, etc.)
- **R Markdown** - for embedded R code and output
- **Markdown Extra** - adds additional elements like tables and definition lists

## Conclusion

By mastering these advanced Markdown techniques, you can create richly formatted documents that maintain the simplicity and portability that make Markdown so popular. Experiment with these features to find the ones that best suit your workflow and content needs.
                `;
            } else if (slug === 'creating-a-blog') {
                return `
# How to Create a Markdown Blog

*Published on February 27, 2025*

Creating a blog that uses Markdown for content creation offers many advantages, including simplicity, portability, and focus on content rather than formatting. This guide will walk you through setting up your own Markdown-powered blog.

## Benefits of a Markdown Blog

- **Simplified writing process**: Focus on content instead of formatting
- **Version control friendly**: Easily track changes to your content
- **Portable content**: Your posts aren't locked into a specific platform
- **Fast**: Markdown files are lightweight and render quickly
- **Offline capable**: Write posts without an internet connection

## Step 1: Choose Your Platform

There are several approaches to creating a Markdown blog:

### Static Site Generators

Static site generators convert your Markdown files into a complete website. Popular options include:

- **Jekyll**: Ruby-based, powers GitHub Pages
- **Hugo**: Go-based, extremely fast
- **Gatsby**: React-based, with a rich plugin ecosystem
- **Eleventy**: JavaScript-based, flexible and simple
- **Next.js**: React framework with static generation capabilities

### Headless CMS with Markdown Support

- **Netlify CMS**: Open-source content management for Git workflows
- **Strapi**: Self-hosted, customizable CMS
- **Contentful**: Powerful content infrastructure with Markdown support
- **Ghost**: Professional publishing platform with Markdown editor

## Step 2: Set Up Your Development Environment

The exact steps depend on your chosen platform, but generally include:

1. Install required dependencies (Node.js, Ruby, etc.)
2. Install your static site generator or set up your headless CMS
3. Initialize a new project
4. Install themes or starter templates

## Step 3: Create Your First Post

Create a new Markdown file with frontmatter for metadata:

\`\`\`markdown
---
title: My First Blog Post
date: 2025-02-25
tags: [beginners, markdown]
---

# My First Blog Post

Welcome to my new Markdown blog! This is going to be amazing.
\`\`\`

## Step 4: Configure Your Site

Customize your site with:

- Site metadata (title, description, etc.)
- Theme customization
- Navigation menus
- Commenting system (if desired)
- Analytics
- RSS feed

## Step 5: Deploy Your Blog

Several free or low-cost options exist:

- **GitHub Pages**: Free hosting for static sites
- **Netlify**: Free tier with continuous deployment from Git
- **Vercel**: Free tier with excellent Next.js support
- **Cloudflare Pages**: Free hosting with generous build times

## Step 6: Workflow Optimization

Develop a sustainable workflow:

1. Create a content calendar
2. Set up a drafts folder
3. Use Git for version control
4. Establish a review process
5. Automate publishing with CI/CD

## Conclusion

A Markdown blog gives you the perfect balance of simplicity and power. By separating content from presentation, you can focus on writing while still creating a beautiful, performant website. The initial setup might take some time, but the long-term benefits make it well worth the effort.

Start small, experiment with different approaches, and gradually refine your setup as you learn what works best for your needs.
                `;
            } else {
                throw new Error('Post not found');
            }
        }
        
        function renderPostsList() {
            document.title = 'Markdown Blog';
            
            let html = `
                <div class="post-list">
                    ${posts.map(post => `
                        <article class="post-card">
                            <div class="post-image" style="background-image: url('${post.image}')"></div>
                            <div class="post-content">
                                <h2 class="post-title">${post.title}</h2>
                                <time class="post-date">${formatDate(post.date)}</time>
                                <p class="post-excerpt">${post.excerpt}</p>
                                <a href="?post=${post.slug}" class="read-more" data-slug="${post.slug}">Read more</a>
                            </div>
                        </article>
                    `).join('')}
                </div>
            `;
            
            main.innerHTML = html;
            
            // Add event listeners to read more links
            document.querySelectorAll('.read-more').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const slug = e.target.getAttribute('data-slug');
                    navigateToPost(slug);
                });
            });
        }
        
        async function renderSinglePost(slug) {
            try {
                main.innerHTML = '<div class="loading">Loading post...</div>';
                
                const post = posts.find(p => p.slug === slug);
                if (!post) {
                    throw new Error('Post not found');
                }
                
                const content = await loadPostContent(slug);
                
                // Update page title
                document.title = `${post.title} | Markdown Blog`;
                
                const renderedContent = marked.parse(content);
                
                main.innerHTML = `
                    <a href="#" class="back-link">&larr; Back to all posts</a>
                    <article class="single-post">
                        <div class="post-body">
                            ${renderedContent}
                        </div>
                    </article>
                `;
                
                // Add event listener to back link
                document.querySelector('.back-link').addEventListener('click', (e) => {
                    e.preventDefault();
                    navigateToHome();
                });
                
                // Apply syntax highlighting if available
                if (window.Prism) {
                    Prism.highlightAll();
                }
            } catch (error) {
                showError(`Failed to load post: ${error.message}`);
            }
        }
        
        function navigateToPost(slug) {
            window.history.pushState({}, '', `?post=${slug}`);
            renderSinglePost(slug);
        }
        
        function navigateToHome() {
            window.history.pushState({}, '', '/');
            renderPostsList();
        }
        
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        function showError(message) {
            main.innerHTML = `<div class="error">${message}</div>`;
        }
    </script>
</body>
</html>